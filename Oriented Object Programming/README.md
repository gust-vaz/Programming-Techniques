# EP4 - (Oriented Object Programming)

## DESCRIPTION
This is the EP4 for the Programming Techniques 1 course. In short, the main program's function is to combine all the classes created to generate a simpler version of Pac-Man. Based on a maze input defined by the user – with specifications for having odd dimensions, an empty space in the middle, and at least one pacdot – the player is given the option to play until they either collide with a ghost or collect all the pacdots.

The player can move through the maze in valid directions, aiming to collect all the pacdots. If this happens, a victory message is displayed. However, if a ghost collides with Pac-Man, the game ends with a loss.

All the class specifications are saved in the documentation generated by the `Makefile`, which also compiles the program and cleans up the files it generates.

## HOW TO RUN
Compilation is handled by the `make` command, which has the following execution options and their respective operations:

- `make all`: Compiles the class files and the main program for the standard execution of the program.
- `make`: Same as the previous command.
- `make tests`: Compiles the class files and the main program for running tests and generates a file called `gtest.txt` for input verification of the tests.
- `make doc`: Generates the class documentation using Doxygen.
- `make clean`: Removes the files generated by compilation, documentation, and the `gtest.txt` file.

To run the program after compiling with the `make all` command, use the following command:
```bash
./ep4 file
```
Where `file` is the text file containing the maze.

To run the tests after compiling with the `make tests` command, use the following command:
```bash
./ep4
```

## TEST CASES
There are 6 tests for the following categories: file, maze, ghost, pacman, and game.

### Category: File
**Description**: `set_base_board`  
Tests if the file correctly saves the maze input into the matrix. It also checks if the file properly retrieves the number of rows, columns, and ghosts in the maze.

### Category: Maze
**Description**: `set_e_att_labirinto`  
Tests if the maze is correctly saving the `new_board` with the character ' ' instead of 'F'. It also verifies if the `lab_persona` matrix is correctly saving the ghost by assigning the value 2 to the cell. Additionally, it checks if the methods for updating the cells in these matrices work correctly.

### Category: Ghost
**Description**: `mov_ghost`  
Tests if the ghost moves as expected.

### Category: Pacman
**Description**: `mov_e_constroi_pac`  
Tests if Pac-Man moves according to the given command and if its initial position is correct.

### Category: Game
**Description**: `scored_e_win`  
Tests if the player scores when Pac-Man reaches the same position as a pacdot, and if that position is replaced by a ' '. It also checks if the `win` method correctly determines whether the player has won after collecting all pacdots.

### Category: Game
**Description**: `collision`  
Tests if, when Pac-Man and a ghost occupy the same position, the `collision` method detects the collision and replaces the collision position with an 'X'.

## DEPENDENCIES
- For this program to work, the ghost cannot be trapped, meaning it must not be surrounded by 4 walls.
- The input file containing the maze must not have any lines outside of the maze itself (i.e., no fully blank lines with only spaces or other valid characters).
- `gtest` library version: libgtest-dev version (1.10.0-2).
- OS version: Ubuntu 20.04 LTS - 64Bits
- `make` version: GNU Make 4.2.1
- `doxygen` version: 1.8.17